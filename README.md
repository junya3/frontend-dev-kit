# gulp-study

## æ¦‚è¦

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ **Gulp ã§ Pug ã¨ Sass ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹é–‹ç™ºç’°å¢ƒ** ã§ã™ã€‚
preview ç”¨ã‚µãƒ¼ãƒãƒ¼ã§ã®è‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰ã¨ã€build ç”¨ã®åœ§ç¸®ãƒ»å‡ºåŠ›ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

## é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆwatch + previewï¼‰

```bash
npm run watch
```

- `preview` ãƒ•ã‚©ãƒ«ãƒ€ã‚’ãƒ«ãƒ¼ãƒˆã¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
- Pug/Sass å¤‰æ›´æ™‚ã«è‡ªå‹•ã§ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ãƒªãƒ­ãƒ¼ãƒ‰
- CSS/JS/ç”»åƒã®å¤‰æ›´ã‚‚åæ˜ ã•ã‚Œã¾ã™

## ãƒ“ãƒ«ãƒ‰ï¼ˆæœ¬ç•ªç”¨ï¼‰

```bash
npm run build
```

- `html` ãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ï¼ˆCSS ã¯ minify æ¸ˆã¿ï¼‰
- ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã«å¿œã˜ã¦ `root` ã‚’å¤‰æ›´å¯èƒ½

ä¾‹ï¼š

```bash
gulp build --base=/exam/
```

- Pug å†…ã§ä½¿ç”¨ã™ã‚‹ `root` ã«é©ç”¨ã•ã‚Œã¾ã™

## ä½¿ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

### å…±é€š

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸   | ç”¨é€”                                 |
| ------------ | ------------------------------------ |
| gulp         | ã‚¿ã‚¹ã‚¯ãƒ©ãƒ³ãƒŠãƒ¼æœ¬ä½“                   |
| gulp-plumber | ã‚¨ãƒ©ãƒ¼ã§å‡¦ç†ãŒæ­¢ã¾ã‚‹ã®ã‚’é˜²ã         |
| gulp-notify  | ã‚¨ãƒ©ãƒ¼ã‚„å‡¦ç†å®Œäº†ã‚’ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—é€šçŸ¥   |
| browser-sync | ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ï¼‹è‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰       |
| yargs        | CLI å¼•æ•°å–å¾—ï¼ˆbuild/preview åˆ‡æ›¿ç”¨ï¼‰ |

### Pug

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ç”¨é€”            |
| ---------- | --------------- |
| gulp-pug   | Pug â†’ HTML å¤‰æ› |

### Sass

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸     | ç”¨é€”                                    |
| -------------- | --------------------------------------- |
| gulp-sass      | Gulp ã‹ã‚‰ Sass ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãƒ©ãƒƒãƒ‘ãƒ¼ |
| sass           | Sass ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©æœ¬ä½“ï¼ˆDart Sassï¼‰        |
| gulp-clean-css | CSS ã‚’ minifyï¼ˆåœ§ç¸®ï¼‰                   |

## Pug ã§ã® CSS/ãƒªãƒ³ã‚¯æŒ‡å®š

- preview/build ä¸¡å¯¾å¿œã«ã¯ `root` å¤‰æ•°ã‚’åˆ©ç”¨ã™ã‚‹ã¨ä¾¿åˆ©ã§ã™ã€‚

```pug
// Pug ä¾‹
link(rel="stylesheet", href=root + "assets/css/style.css")
a(href=root + "about")
```

- preview ã‚¿ã‚¹ã‚¯ã§ã¯ `root = '/'`
- build ã‚¿ã‚¹ã‚¯ã§ã¯ `root = '/exam/'`ï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã«å¿œã˜ã¦å¤‰æ›´ï¼‰

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
src/
â”œâ”€ pug/
â”‚   â”œâ”€ global/           â† å…¨ãƒšãƒ¼ã‚¸å…±é€šï¼ˆhead, meta ãªã©ï¼‰
â”‚   â”‚   â”œâ”€ _head.pug
â”‚   â”‚   â””â”€ _meta.pug
â”‚   â”œâ”€ components/       â† ãƒ˜ãƒƒãƒ€ãƒ¼ã‚„ãƒ•ãƒƒã‚¿ãƒ¼ãªã©å…±é€šéƒ¨å“
â”‚   â”œâ”€ layouts/          â† ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â””â”€ base.pug
â”‚   â””â”€ pages/
â”‚       â”œâ”€ index.pug
â”‚       â””â”€ about.pug
â”œâ”€ sass/
â”‚   â”œâ”€ global/           â† å…±é€šå¤‰æ•°ãƒ»ãƒªã‚»ãƒƒãƒˆãƒ»ãƒ•ã‚©ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€ _variables.scss
â”‚   â”‚   â”œâ”€ _reset.scss
â”‚   â”‚   â””â”€ _typography.scss
â”‚   â”œâ”€ components/
â”‚   â”œâ”€ layouts/
â”‚   â””â”€ main.scss
â”œâ”€ ts/
â”‚   â”œâ”€ global/           â† å…±é€š JSï¼ˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ï¼‰
â”‚   â”œâ”€ components/
â”‚   â””â”€ main.ts
â””â”€ assets/
    â”œâ”€ images/
    â””â”€ fonts/
```

ğŸ’¡ **ãƒã‚¤ãƒ³ãƒˆ**

- é–‹ç™ºä¸­ã¯ `npm run watch` ã§ preview ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç¢ºèª
- build å¾Œã¯ `html` ãƒ•ã‚©ãƒ«ãƒ€ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ã«ä½¿ç”¨
- SCSS å¤‰æ›´æ™‚ã¯ main.scss ã‚’ç·¨é›†
- Pug å¤‰æ›´æ™‚ã¯ pages é…ä¸‹ã‚’ç·¨é›†
